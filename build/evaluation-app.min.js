var app=angular.module("EvaluationApp",["ngRoute"]);app.config(function(a){a.when("/home/",{templateUrl:"templates/home.html",controller:"HomeController"}).when("/evaluation/:evaluationID",{templateUrl:"templates/evaluation.html",controller:"EvaluationController"}).when("/evaluation/",{templateUrl:"templates/evaluation.html",controller:"EvaluationController"}).when("/",{templateUrl:"templates/login.html",controller:"LoginController"}).otherwise({redirectTo:"/"})}),app.controller("EvaluationController",["$scope","ApiFactory","$routeParams",function(a,b,c){var d=c.lelele;void 0!==d?b.getEvaluationById(d).then(function(b){a.evaluation=b},function(a){console.log("Error fetching evaluation: "+a)}):a.evaluation={TitleIS:"",TitleEN:"",IntroTextIS:"",IntroTextEN:"",CourseQuestions:[],TeacherQuestions:[]},a.addAnswer=function(a){a.Answers.push("New answer")},a.addCourseQuestion=function(){a.evaluation.CourseQuestions.push({ID:a.evaluation.CourseQuestions.length,TextIS:"",TextEN:"",ImageURL:"",Type:"single",Answers:[]})}}]),app.controller("HomeController",["$scope","ApiFactory",function(a,b){b.getAllEvaluations().then(function(b){console.log("Success, data: ",b),a.evaluations=b},function(a){console.log("Error: "+a)},function(a){console.log("Update: "+a)})}]),app.controller("LoginController",["$scope","ApiFactory",function(a){a.login={userName:"",password:""},a.login=function(){console.log("Logged in")}}]),app.factory("ApiFactory",["$q","$timeout",function(a){function b(a,b,c,d,e){return{ID:a,TitleIS:b,TitleEN:c,IntroTextIS:d,IntroTextEN:e,CourseQuestions:[],TeacherQuestions:[]}}function c(a,b,c,d,e){return{ID:a,TextIS:b,TextEN:c,ImageURL:d,Type:e,Answers:[]}}function d(){for(var a=[],d=0;5>d;++d){for(var e=d+1,f=b(d,"Kennslumat "+e,"Evaluation "+e,"Derp","Derp"),g=0;3>g;++g){var h=g+1,i=c(g,"Hva√∞ er derp"+h+"?","What is derp "+h+"?","","single");f.CourseQuestions.push(i)}a.push(f)}return a}var e=d();return{getAllEvaluations:function(){var b=a.defer();return b.resolve(e),b.promise},getEvaluationById:function(b){var c=a.defer();return e[b]?c.resolve(e[b]):c.reject("No evaluation with this id"),c.promise},addEvaluation:function(){var b=a.defer();return b.promise}}}]);